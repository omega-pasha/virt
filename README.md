# Домашнее задание к занятию "5.1. Введение в виртуализацию. Типы и функции гипервизоров. Обзор рынка вендоров и областей применения."
## Задание 1
Опишите кратко, как вы поняли: в чем основное отличие полной (аппаратной) виртуализации, паравиртуализации и виртуализации на основе ОС.
## Ответ
 * Аппаратная виртуализация - гипервизор установлен непосредственно на физическом сервере. Без предварительной установки ОС. Например: Виртуальные машины крутятся на нескольких хостах ESXI, в то время как этими хостами управляет vsphere. Тоже касается RHV, Hyper-V (установленный из дистрибутива)
 * Паравиртуализация - есть физическая машина с ОС, на неё можно установить ПО или пакет, которое даст возможность создавать ВМ поверх ОС. При этом ядро ОС модифицируется, что позволяет запускать ВМ с windows на linux машине и наоборот. 
 * Виртуализация на уровне ОС - ВМ полностью повторяет ту ОС в которой запущена и выполняет свою функцию изолированно от физического сервера или других ВМ.

## Задание 2
Выберите один из вариантов использования организации физических серверов, в зависимости от условий использования.

Организация серверов:

физические сервера,
паравиртуализация,
виртуализация уровня ОС.
Условия использования:

Высоконагруженная база данных, чувствительная к отказу.
Различные web-приложения.
Windows системы для использования бухгалтерским отделом.
Системы, выполняющие высокопроизводительные расчеты на GPU.
Опишите, почему вы выбрали к каждому целевому использованию такую организацию.

## Ответ
 * Высоконагруженная база данных, чувствительная к отказу - Паравиртуализация. Желателен кластер из 2х серверов и репликация БД. В случае отказа сервера БД продолжит работу в реплике.
 * Различные web-приложения - виртуализация уровня ОС. Все можно завернуть в докер-контейнеры.
 * Windows системы для использования бухгалтерским отделом - паравиртуализация. Упрощает бекапы + перекликается с высокозагруженными БД.
 * Системы, выполняющие высокопроизводительные расчеты на GPU - физические сервера. Драйверы GPU сложно перенести в виртуальное пространство

## Задание 3
Выберите подходящую систему управления виртуализацией для предложенного сценария. Детально опишите ваш выбор.

## Ответ

 * 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий. ```Hyper-V, Для Linux ВМ он вообще бесплатный, windows машины, конечно, нужно лицензировать. Все требования Hyper-V удовлетворяет.```
 * Требуется наиболее производительное бесплатное open source решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин. ```KVM. Он open source, производительный, всем требованиям удовлетворяет```
Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows инфраструктуры. ```Xen PV. Для данных задачь это более чем достаточно. прост в установке и настройке```
Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux. ```Тут я бы назвал - VirtualBox. быстро и просто развернуть на том же ПК, где пишешь код```

## Задание 4
Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. Если бы у вас был выбор, то создавали бы вы гетерогенную среду или нет? Мотивируйте ваш ответ примерами.
## Ответ
У меня есть такой опыт. Для своих нужд мы используем KVM, а для заказчиков - Hyper-v. Поскольку там используется специализированное ПО под виндой. Лично у меня это проблем не вызывало. Но я подозреваю, что проблемы возникают при переносе ВМ с одного гипервизора на другой. Поскольку форматы дисков отличаются. KVM - RAW, QCOW2. Hyper-V - VHD, VHDX. Чтобы перенести ВМ, нужно конвертировать диск. Плюс нужны специалисты, которые понимают особенности работы нескольких гипервизоров. Ну и сразу можно забыть о таких прелестях бытия, как кластеризация, репликация, живая миграция, HA и т.д. Если бы у меня был выбор, я бы таких сред не строил. 
